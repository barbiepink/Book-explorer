{"ast":null,"code":"import axios from'axios';// Remove '/books' from the base URL - just use the API root\n// Make sure this is exactly like this - no trailing slashes\nconst API_BASE_URL=process.env.REACT_APP_API_URL||'https://book-explorer-cyki.onrender.com/api';console.log('API_BASE_URL:',API_BASE_URL);// Add this line to debug\nconst api=axios.create({baseURL:API_BASE_URL,headers:{'Content-Type':'application/json'}});export const fetchBooks=async function(){let params=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};try{const response=await api.get('/books',{params});return response.data;}catch(error){console.error('Error fetching books:',error);throw error;}};export const fetchBookById=async id=>{try{const response=await api.get(\"/books/\".concat(id));return response.data;}catch(error){console.error('Error fetching book details:',error);throw error;}};export const refreshBooks=async()=>{try{const response=await api.post('/refresh');return response.data;}catch(error){console.error('Error refreshing books:',error);throw error;}};export default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","console","log","api","create","baseURL","headers","fetchBooks","params","arguments","length","undefined","response","get","data","error","fetchBookById","id","concat","refreshBooks","post"],"sources":["D:/downloads/Book-explorer-main (1)/Book-explorer-main/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\n// Remove '/books' from the base URL - just use the API root\n// Make sure this is exactly like this - no trailing slashes\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'https://book-explorer-cyki.onrender.com/api';\nconsole.log('API_BASE_URL:', API_BASE_URL); // Add this line to debug\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\nexport const fetchBooks = async (params = {}) => {\n  try {\n    const response = await api.get('/books', { params });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching books:', error);\n    throw error;\n  }\n};\n\nexport const fetchBookById = async (id) => {\n  try {\n    const response = await api.get(`/books/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching book details:', error);\n    throw error;\n  }\n};\n\nexport const refreshBooks = async () => {\n  try {\n    const response = await api.post('/refresh');\n    return response.data;\n  } catch (error) {\n    console.error('Error refreshing books:', error);\n    throw error;\n  }\n};\n\nexport default api;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB;AACA;AACA,KAAM,CAAAC,YAAY,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,6CAA6C,CACnGC,OAAO,CAACC,GAAG,CAAC,eAAe,CAAEL,YAAY,CAAC,CAAE;AAE5C,KAAM,CAAAM,GAAG,CAAGP,KAAK,CAACQ,MAAM,CAAC,CACvBC,OAAO,CAAER,YAAY,CACrBS,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAC,UAAU,CAAG,cAAAA,CAAA,CAAuB,IAAhB,CAAAC,MAAM,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CAC1C,GAAI,CACF,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAT,GAAG,CAACU,GAAG,CAAC,QAAQ,CAAE,CAAEL,MAAO,CAAC,CAAC,CACpD,MAAO,CAAAI,QAAQ,CAACE,IAAI,CACtB,CAAE,MAAOC,KAAK,CAAE,CACdd,OAAO,CAACc,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7C,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED,MAAO,MAAM,CAAAC,aAAa,CAAG,KAAO,CAAAC,EAAE,EAAK,CACzC,GAAI,CACF,KAAM,CAAAL,QAAQ,CAAG,KAAM,CAAAT,GAAG,CAACU,GAAG,WAAAK,MAAA,CAAWD,EAAE,CAAE,CAAC,CAC9C,MAAO,CAAAL,QAAQ,CAACE,IAAI,CACtB,CAAE,MAAOC,KAAK,CAAE,CACdd,OAAO,CAACc,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpD,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED,MAAO,MAAM,CAAAI,YAAY,CAAG,KAAAA,CAAA,GAAY,CACtC,GAAI,CACF,KAAM,CAAAP,QAAQ,CAAG,KAAM,CAAAT,GAAG,CAACiB,IAAI,CAAC,UAAU,CAAC,CAC3C,MAAO,CAAAR,QAAQ,CAACE,IAAI,CACtB,CAAE,MAAOC,KAAK,CAAE,CACdd,OAAO,CAACc,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/C,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED,cAAe,CAAAZ,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}